# Example: Production deployment with SQLite (single instance)
# Use this for simple, single-replica deployments

replicaCount: 1

image:
  repository: llm-proxy  # Change to your registry
  tag: "latest"         # Change to specific version
  pullPolicy: IfNotPresent

# SECURITY: Reference existing Kubernetes Secret (create it first)
# kubectl create secret generic llm-proxy-secrets \
#   --from-literal=MANAGEMENT_TOKEN="$(openssl rand -base64 32)"
secrets:
  managementToken:
    existingSecret:
      name: llm-proxy-secrets
      key: MANAGEMENT_TOKEN

env:
  DB_DRIVER: "sqlite"
  DATABASE_PATH: "/app/data/llm-proxy.db"
  LOG_LEVEL: "info"
  LOG_FORMAT: "json"
  ENABLE_METRICS: "true"
  LLM_PROXY_EVENT_BUS: "in-memory"

resources:
  limits:
    cpu: 1000m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

# SQLite requires persistent storage for data
volumes:
  - name: tmp
    emptyDir: {}
  - name: data
    persistentVolumeClaim:
      claimName: llm-proxy-data  # Create PVC separately
  - name: logs
    emptyDir: {}
  - name: config
    emptyDir: {}
